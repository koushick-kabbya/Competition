import pandas as pd
import numpy as np

data = {
    "PH": [7.36, 7.39, 7.36],
    "EC": [139.6, 145.1, 144.8],
    "T_Alkalinity": [42, 37, 43],
    "Chloride": [7.5, 9.0, 8.0],
    "TS": [125.2, 111.7, 114.5],
    "TDS": [70.2, 72.7, 72.5],
    "SS": [55, 39, 42],
    "DO": [5.31, 5.10, 4.87],
    "BOD": [6.8, 5.2, 7.2],
    "COD": [20, 18, 24],
    "Turbidity": [34.9, 27.7, 34.5]
}

df = pd.DataFrame(data)

normalized_df = (df - df.min()) / (df.max() - df.min())

epsilon = 1e-10
normalized_df = normalized_df.replace(0, epsilon)


P = normalized_df.div(normalized_df.sum(axis=0), axis=1)

n = len(df)                      
k = 1 / np.log(n)                 
entropy = -k * (P * np.log(P)).sum(axis=0)


diversity = 1 - entropy
weights = diversity / diversity.sum()


result = pd.DataFrame({
    "Entropy (E)": entropy,
    "Diversification (1 - E)": diversity,
    "Weight (W)": weights
}).T


pd.set_option('display.max_columns', None)


print("Shannon Entropy-Based Weighting Results:\n")
print(result.round(5))
